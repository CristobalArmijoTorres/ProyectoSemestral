"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7148],{7148:(E,g,i)=>{i.r(g),i.d(g,{AsignaturasPageModule:()=>k});var u=i(177),A=i(4341),s=i(791),d=i(8465),t=i(3953),p=i(1985),f=i(8810),P=i(1397),m=i(9437),b=i(1626);let v=(()=>{var n;class e{constructor(o){this.http=o,this.apiUrl="http://192.168.84.55:3000"}getAsignaturasByStudentId(o){return this.http.get(`${this.apiUrl}/secciones`).pipe((0,P.Z)(a=>{for(let c of a){const h=c.estudiantes.find(l=>l.estudianteId===o);if(h)return new p.c(l=>{l.next(h.asignaturas),l.complete()})}return new p.c(c=>{c.next([]),c.complete()})}),(0,m.W)(a=>(console.error("Error al obtener asignaturas",a),(0,f.$)(a))))}getAllProfesores(){return this.http.get(`${this.apiUrl}/profesores`).pipe((0,m.W)(o=>(console.error("Error al obtener los profesores",o),(0,f.$)(o))))}}return(n=e).\u0275fac=function(o){return new(o||n)(t.KVO(b.Qq))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function F(n,e){if(1&n){const r=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",10)(5,"ion-button",11),t.bIt("click",function(){t.eBV(r);const a=t.XpG().$implicit,c=t.XpG();return t.Njj(c.verModal(a))}),t.EFF(6,"Cerrar"),t.k0s()()()(),t.j41(7,"ion-content",12)(8,"div",13)(9,"h2"),t.EFF(10,"Detalles de la Asignatura"),t.k0s(),t.j41(11,"ion-grid")(12,"ion-row")(13,"ion-col",14)(14,"strong"),t.EFF(15,"Nombre: "),t.k0s(),t.EFF(16),t.k0s()(),t.j41(17,"ion-row")(18,"ion-col",14)(19,"strong"),t.EFF(20,"Sigla: "),t.k0s(),t.EFF(21),t.k0s()(),t.j41(22,"ion-row")(23,"ion-col",14)(24,"strong"),t.EFF(25,"Profesor: "),t.k0s(),t.EFF(26),t.k0s()()()()()}if(2&n){const r=t.XpG().$implicit,o=t.XpG();t.R7$(3),t.JRh(r.nombre),t.R7$(13),t.SpI(" ",r.nombre," "),t.R7$(5),t.SpI(" ",r.codigo," "),t.R7$(5),t.SpI(" ",o.obtenerNombreProfesor(r.profesorId)," ")}}function M(n,e){if(1&n){const r=t.RV6();t.j41(0,"ion-col",6)(1,"div",7),t.bIt("click",function(){const a=t.eBV(r).$implicit,c=t.XpG();return t.Njj(c.verModal(a))}),t.j41(2,"ion-label",8),t.EFF(3),t.k0s()(),t.j41(4,"ion-modal",9),t.DNE(5,F,27,4,"ng-template"),t.k0s()()}if(2&n){const r=e.$implicit;t.R7$(3),t.JRh(r.nombre),t.R7$(),t.Y8G("isOpen",r.mostrarModal)}}const x=[{path:"",component:(()=>{var n;class e{constructor(o){this.asigAlumnoService=o,this.asignaturas=[],this.profesores={}}ngOnInit(){this.cargarAsignaturas(),this.cargarProfesores()}cargarAsignaturas(){const o=JSON.parse(localStorage.getItem("user")||"{}");o&&o.id&&this.asigAlumnoService.getAsignaturasByStudentId(o.id).subscribe(a=>{console.log("Asignaturas cargadas:",a),this.asignaturas=a.map(c=>({...c,mostrarModal:!1}))},a=>{console.error("Error al cargar las asignaturas",a)})}cargarProfesores(){this.asigAlumnoService.getAllProfesores().subscribe(o=>{o.forEach(a=>{this.profesores[a.profesorId]=a.nombre})},o=>{console.error("Error al cargar los profesores",o)})}verModal(o){o.mostrarModal=!o.mostrarModal}obtenerNombreProfesor(o){return this.profesores[o]||"Desconocido"}}return(n=e).\u0275fac=function(o){return new(o||n)(t.rXU(v))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-asignaturas"]],decls:10,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","menu"],[1,"background-white",3,"fullscreen"],["size","6","class","asignatura-col",4,"ngFor","ngForOf"],["size","6",1,"asignatura-col"],[1,"asignatura-box",2,"cursor","pointer",3,"click"],[1,"asignatura-nombre"],[3,"isOpen"],["slot","end"],[3,"click"],[1,"background-white"],[1,"modal-content"],["size","12"]],template:function(o,a){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Asignaturas"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s()()(),t.j41(6,"ion-content",4)(7,"ion-grid")(8,"ion-row"),t.DNE(9,M,6,2,"ion-col",5),t.k0s()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(3),t.Y8G("ngForOf",a.asignaturas))},dependencies:[u.Sq,s.Jm,s.QW,s.hU,s.W9,s.lO,s.eU,s.he,s.ln,s.BC,s.ai,s.Sb,s.el],styles:[".background-white[_ngcontent-%COMP%]{--background: #ffffff}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#000}.modal-content[_ngcontent-%COMP%]{color:#000}.asignatura-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.asignatura-box[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f4f80c;padding:20px;border-radius:12px;box-shadow:0 4px 12px #0003;text-align:center;transition:transform .3s ease-in-out;display:flex;flex-direction:column;justify-content:center}.asignatura-box[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.asignatura-nombre[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin-bottom:10px;color:#000}.detalles-button[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-primary)}"]}),e})()}];let j=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.iI.forChild(x),d.iI]}),e})(),k=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[u.MD,A.YN,s.bv,j]}),e})()}}]);