"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[653],{653:(I,g,i)=>{i.r(g),i.d(g,{HomePageModule:()=>y});var f=i(177),a=i(791),d=i(4341),m=i(8465),u=i(467),e=i(3953),p=i(3656),h=i(6354),v=i(1626);let C=(()=>{var o;class l{constructor(n){this.http=n,this.apiUrl="http://192.168.101.9:3000/usuarios"}login(n,t){return this.http.get(`${this.apiUrl}?username=${n}`).pipe((0,h.T)(s=>{const r=s.find(H=>H.password===t);return r?{success:!0,user:r}:{success:!1,message:"Usuario o contrase\xf1a incorrectos"}}))}}return(o=l).\u0275fac=function(n){return new(n||o)(e.KVO(v.Qq))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();const M=[{path:"",component:(()=>{var o;class l{constructor(n,t,s,r){this.toastController=n,this.navCtrol=t,this.alertController=s,this.userService=r,this.usuarioIngresado="",this.claveIngresada=""}funcionAlerta(){var n=this;return(0,u.A)(function*(){yield(yield n.alertController.create({header:"\xbfOlvidaste tu contrase\xf1a?",subHeader:"Tranquilo, se enviar\xe1 un mensaje a tu correo para recuperarla",message:"El mensaje se envi\xf3 correctamente, ahora podr\xe1s recuperar tu contrase\xf1a",buttons:["Ok"]})).present()})()}ingresar(){var n=this;return(0,u.A)(function*(){n.userService.login(n.usuarioIngresado,n.claveIngresada).subscribe(function(){var t=(0,u.A)(function*(s){s.success?(localStorage.setItem("user",JSON.stringify(s.user)),yield(yield n.toastController.create({message:"Ingresando...",duration:1e3,position:"middle",color:"success"})).present(),n.navCtrol.navigateForward("profesor"===s.user.role?"/menu-profe":"/menu")):yield(yield n.toastController.create({message:"El usuario o la contrase\xf1a ingresada no es correcta, int\xe9ntalo nuevamente",duration:3e3,position:"middle",color:"danger"})).present()});return function(s){return t.apply(this,arguments)}}(),(0,u.A)(function*(){yield(yield n.toastController.create({message:"Hubo un error al conectar con el servidor, int\xe9ntalo nuevamente",duration:3e3,position:"middle",color:"danger"})).present()}))})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.rXU(a.K_),e.rXU(p.q9),e.rXU(a.hG),e.rXU(C))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:20,vars:4,consts:[[3,"translucent"],["color","primary"],[1,"background-white",3,"fullscreen"],["type","text","placeholder","Ingrese su Usuario",3,"ngModelChange","ngModel"],["type","password","placeholder","Ingrese la clave",3,"ngModelChange","ngModel"],["fill","clear",3,"click"],["shape","round","fill","outline",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),e.EFF(3,"DuocUC"),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-card")(6,"ion-card-header")(7,"h1"),e.EFF(8,"Iniciar Sesi\xf3n"),e.k0s()(),e.j41(9,"ion-card-content")(10,"label"),e.EFF(11,"Usuario: "),e.k0s(),e.j41(12,"ion-input",3),e.mxI("ngModelChange",function(r){return e.DH7(t.usuarioIngresado,r)||(t.usuarioIngresado=r),r}),e.k0s(),e.j41(13,"label"),e.EFF(14,"Clave: "),e.k0s(),e.j41(15,"ion-input",4),e.mxI("ngModelChange",function(r){return e.DH7(t.claveIngresada,r)||(t.claveIngresada=r),r}),e.k0s(),e.j41(16,"ion-button",5),e.bIt("click",function(){return t.funcionAlerta()}),e.EFF(17," Olvid\xe9 mi contrase\xf1a "),e.k0s(),e.j41(18,"ion-button",6),e.bIt("click",function(){return t.ingresar()}),e.EFF(19,"Aceptar"),e.k0s()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(8),e.R50("ngModel",t.usuarioIngresado),e.R7$(3),e.R50("ngModel",t.claveIngresada))},dependencies:[d.BC,d.vS,a.Jm,a.b_,a.I9,a.ME,a.W9,a.eU,a.$w,a.BC,a.ai,a.Gw],styles:["ion-card[_ngcontent-%COMP%]{--background: #f4f80c;--color: black;margin:40px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}ion-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;margin-top:15px}.background-white[_ngcontent-%COMP%]{--background: #ffffff;background-color:#fff}"]}),l})()}];let P=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[m.iI.forChild(M),m.iI]}),l})(),y=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[f.MD,d.YN,a.bv,P]}),l})()}}]);