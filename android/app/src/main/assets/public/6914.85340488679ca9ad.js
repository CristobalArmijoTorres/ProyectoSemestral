(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6914],{6914:(T,s,a)=>{"use strict";a.r(s),a.d(s,{RegAsistenciaPageModule:()=>R});var i=a(177),r=a(4341),e=a(791),n=a(8465),t=a(3953),c=a(8810),u=a(6354),l=a(9437),w=a(1626);let A=(()=>{var f;class m{constructor(o){this.http=o,this.apiUrl="http://localhost:3000"}getAsignaturasByProfesorId(o){return this.http.get(`${this.apiUrl}/asignaturas`).pipe((0,u.T)(d=>d.filter(h=>h.profesorId===o)),(0,l.W)(d=>(console.error("Error al obtener asignaturas",d),(0,c.$)(d))))}getSecciones(){return this.http.get(`${this.apiUrl}/secciones`).pipe((0,l.W)(o=>(console.error("Error al obtener secciones",o),(0,c.$)(o))))}}return(f=m).\u0275fac=function(o){return new(o||f)(t.KVO(w.Qq))},f.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),m})();var I=a(467),E=a(5933),y=a(345);const M=["qrcElement"];let N=(()=>{var f;class m{constructor(o,d){this.renderer=o,this.sanitizer=d,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var o=this;return(0,I.A)(function*(){yield o.createQRCode()})()}isValidQrCodeText(o){return!1===this.allowEmptyString?!(typeof o>"u"||""===o||"null"===o||null===o):!(typeof o>"u")}toDataURL(o){return new Promise((d,h)=>{(0,E.dY)(this.qrdata,o,(C,p)=>{C?h(C):d(p)})})}toCanvas(o,d){return new Promise((h,C)=>{(0,E.mo)(o,this.qrdata,d,p=>{p?C(p):h("success")})})}toSVG(o){return new Promise((d,h)=>{(0,E.toString)(this.qrdata,o,(C,p)=>{C?h(C):d(p)})})}renderElement(o){for(const d of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,d);this.renderer.appendChild(this.qrcElement.nativeElement,o)}createQRCode(){var o=this;return(0,I.A)(function*(){o.version&&o.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),o.version=40):o.version&&o.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),o.version=1):void 0!==o.version&&isNaN(o.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),o.version=void 0);try{if(!o.isValidQrCodeText(o.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");o.isValidQrCodeText(o.qrdata)&&""===o.qrdata&&(o.qrdata=" ");const d={color:{dark:o.colorDark,light:o.colorLight},errorCorrectionLevel:o.errorCorrectionLevel,margin:o.margin,scale:o.scale,version:o.version,width:o.width},h=o.imageSrc,C=o.imageHeight||40,p=o.imageWidth||40;switch(o.elementType){case"canvas":{const L=o.renderer.createElement("canvas");o.context=L.getContext("2d"),o.toCanvas(L,d).then(()=>{if(o.ariaLabel&&o.renderer.setAttribute(L,"aria-label",`${o.ariaLabel}`),o.title&&o.renderer.setAttribute(L,"title",`${o.title}`),h&&o.context){o.centerImage=new Image(p,C),h!==o.centerImage.src&&(o.centerImage.crossOrigin="anonymous",o.centerImage.src=h),C!==o.centerImage.height&&(o.centerImage.height=C),p!==o.centerImage.width&&(o.centerImage.width=p);const F=o.centerImage;F&&(F.onload=()=>{var k;null===(k=o.context)||void 0===k||k.drawImage(F,L.width/2-p/2,L.height/2-C/2,p,C)})}o.renderElement(L),o.emitQRCodeURL(L)}).catch(F=>{console.error("[angularx-qrcode] canvas error:",F)});break}case"svg":{const L=o.renderer.createElement("div");o.toSVG(d).then(F=>{o.renderer.setProperty(L,"innerHTML",F);const k=L.firstChild;o.renderer.setAttribute(k,"height",`${o.width}`),o.renderer.setAttribute(k,"width",`${o.width}`),o.renderElement(k),o.emitQRCodeURL(k)}).catch(F=>{console.error("[angularx-qrcode] svg error:",F)});break}default:{const L=o.renderer.createElement("img");o.toDataURL(d).then(F=>{o.alt&&L.setAttribute("alt",o.alt),o.ariaLabel&&L.setAttribute("aria-label",o.ariaLabel),L.setAttribute("src",F),o.title&&L.setAttribute("title",o.title),o.renderElement(L),o.emitQRCodeURL(L)}).catch(F=>{console.error("[angularx-qrcode] img/url error:",F)})}}}catch(d){console.error("[angularx-qrcode] Error generating QR Code:",d.message)}})()}convertBase64ImageUrlToBlob(o){const d=o.split(";base64,"),h=d[0].split(":")[1],C=atob(d[1]),p=new Uint8Array(C.length);for(let L=0;L<C.length;++L)p[L]=C.charCodeAt(L);return new Blob([p],{type:h})}emitQRCodeURL(o){const d=o.constructor.name;if(d===SVGSVGElement.name){const k=new Blob([o.outerHTML],{type:"image/svg+xml"}),z=URL.createObjectURL(k),Q=this.sanitizer.bypassSecurityTrustUrl(z);return void this.qrCodeURL.emit(Q)}let h="";d===HTMLCanvasElement.name&&(h=o.toDataURL("image/png")),d===HTMLImageElement.name&&(h=o.src);const C=this.convertBase64ImageUrlToBlob(h),p=URL.createObjectURL(C),L=this.sanitizer.bypassSecurityTrustUrl(p);this.qrCodeURL.emit(L)}}return(f=m).\u0275fac=function(o){return new(o||f)(t.rXU(t.sFG),t.rXU(y.up))},f.\u0275cmp=t.VBU({type:f,selectors:[["qrcode"]],viewQuery:function(o,d){if(1&o&&t.GBs(M,7),2&o){let h;t.mGM(h=t.lsd())&&(d.qrcElement=h.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(o,d){1&o&&t.nrm(0,"div",null,0),2&o&&t.HbH(d.cssClass)},encapsulation:2,changeDetection:0}),m})(),U=(()=>{var f;class m{}return(f=m).\u0275fac=function(o){return new(o||f)},f.\u0275mod=t.$C({type:f}),f.\u0275inj=t.G2t({}),m})();function S(f,m){if(1&f&&(t.j41(0,"ion-select-option",13),t.EFF(1),t.k0s()),2&f){const g=m.$implicit;t.Y8G("value",g.id),t.R7$(),t.SpI(" ",g.nombre," ")}}function P(f,m){if(1&f){const g=t.RV6();t.j41(0,"ion-col",8)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),t.EFF(4),t.k0s(),t.j41(5,"ion-card-subtitle"),t.EFF(6),t.k0s()(),t.j41(7,"ion-card-content")(8,"p"),t.EFF(9),t.k0s(),t.j41(10,"ion-item")(11,"ion-label"),t.EFF(12,"Seleccionar Secci\xf3n"),t.k0s(),t.j41(13,"ion-select",9),t.mxI("ngModelChange",function(d){const h=t.eBV(g).$implicit;return t.DH7(h.seccionSeleccionada,d)||(h.seccionSeleccionada=d),t.Njj(d)}),t.DNE(14,S,2,2,"ion-select-option",10),t.k0s()(),t.j41(15,"ion-button",11),t.bIt("click",function(){const d=t.eBV(g).$implicit,h=t.XpG();return t.Njj(h.generarQR(d))}),t.EFF(16," Generar QR "),t.nrm(17,"ion-icon",12),t.k0s()()()()}if(2&f){const g=m.$implicit,o=t.XpG();t.R7$(4),t.JRh(g.nombre),t.R7$(2),t.SpI("C\xf3digo: ",g.codigo,""),t.R7$(3),t.SpI("Contenido: ",g.contenido,""),t.R7$(4),t.R50("ngModel",g.seccionSeleccionada),t.R7$(),t.Y8G("ngForOf",o.secciones),t.R7$(),t.Y8G("disabled",!g.seccionSeleccionada)}}function b(f,m){if(1&f){const g=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"C\xf3digo QR"),t.k0s(),t.j41(4,"ion-buttons",14)(5,"ion-button",15),t.bIt("click",function(){t.eBV(g);const d=t.XpG();return t.Njj(d.verModal())}),t.EFF(6,"Cerrar"),t.k0s()()()(),t.j41(7,"ion-content",16)(8,"p",5),t.EFF(9,"Escanea el siguiente QR para registrar la asistencia"),t.k0s(),t.j41(10,"ion-card")(11,"ion-card-header")(12,"ion-card-title"),t.EFF(13),t.k0s()(),t.j41(14,"ion-card-content",17),t.nrm(15,"qrcode",18),t.k0s()()()}if(2&f){const g=t.XpG();t.R7$(13),t.Lme("Asistencia de ",null==g.asignaturaSeleccionada?null:g.asignaturaSeleccionada.nombre," - ",null==g.seccionSeleccionada?null:g.seccionSeleccionada.nombre,""),t.R7$(2),t.Y8G("qrdata",g.qrData)("width",200)}}const v=[{path:"",component:(()=>{var f;class m{constructor(o){this.registrarService=o,this.asignaturas=[],this.secciones=[],this.qrData="",this.mostrar=!1,this.asignaturaSeleccionada=null,this.seccionSeleccionada=null}ngOnInit(){this.cargarAsignaturas(),this.cargarSecciones()}cargarAsignaturas(){const o=JSON.parse(localStorage.getItem("user")||"{}");o&&o.id&&this.registrarService.getAsignaturasByProfesorId(o.id).subscribe(d=>{this.asignaturas=d},d=>{console.error("Error al cargar las asignaturas",d)})}cargarSecciones(){this.registrarService.getSecciones().subscribe(o=>{this.secciones=o},o=>{console.error("Error al cargar las secciones",o)})}generarQR(o){const d=o.seccionSeleccionada,h=this.secciones.find(p=>p.id===d);this.asignaturaSeleccionada=o,this.seccionSeleccionada=h;const C=JSON.parse(localStorage.getItem("user")||"{}").id;this.qrData=JSON.stringify({asignaturaId:o.idAsig,seccionId:d,estudianteId:C,fecha:(new Date).toISOString()}),this.verModal()}verModal(){this.mostrar=!this.mostrar}}return(f=m).\u0275fac=function(o){return new(o||f)(t.rXU(A))},f.\u0275cmp=t.VBU({type:f,selectors:[["app-reg-asistencia"]],decls:16,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","menu"],[1,"ion-padding","white-background"],[1,"black-text"],["size","12",4,"ngFor","ngForOf"],[3,"isOpen"],["size","12"],["placeholder","Secci\xf3n",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["expand","full","color","success",3,"click","disabled"],["slot","end","name","qr-code-outline","color","light"],[3,"value"],["slot","end"],[3,"click"],[1,"ion-padding"],[2,"text-align","center","margin-top","20px"],[3,"qrdata","width"]],template:function(o,d){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Registrar Asistencia"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s()()(),t.j41(6,"ion-content",4)(7,"h1",5),t.EFF(8,"Registro de Asistencia"),t.k0s(),t.j41(9,"h6",5),t.EFF(10,"Selecciona una asignatura y secci\xf3n para generar el QR"),t.k0s(),t.j41(11,"ion-grid")(12,"ion-row"),t.DNE(13,P,18,6,"ion-col",6),t.k0s()(),t.j41(14,"ion-modal",7),t.DNE(15,b,16,4,"ng-template"),t.k0s()()),2&o&&(t.Y8G("translucent",!0),t.R7$(13),t.Y8G("ngForOf",d.asignaturas),t.R7$(),t.Y8G("isOpen",d.mostrar))},dependencies:[N,i.Sq,r.BC,r.vS,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.hU,e.W9,e.lO,e.eU,e.iq,e.uz,e.he,e.ln,e.Nm,e.Ip,e.BC,e.ai,e.Sb,e.Je,e.el],styles:["ion-content[_ngcontent-%COMP%]{--background: white}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center}.black-text[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{text-align:center}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:70%;display:block;margin:0 auto;border-radius:10px}"]}),m})()}];let D=(()=>{var f;class m{}return(f=m).\u0275fac=function(o){return new(o||f)},f.\u0275mod=t.$C({type:f}),f.\u0275inj=t.G2t({imports:[n.iI.forChild(v),n.iI]}),m})(),R=(()=>{var f;class m{}return(f=m).\u0275fac=function(o){return new(o||f)},f.\u0275mod=t.$C({type:f}),f.\u0275inj=t.G2t({imports:[U,i.MD,r.YN,e.bv,D]}),m})()},2624:T=>{"use strict";var s={single_source_shortest_paths:function(a,i,r){var e={},n={};n[i]=0;var c,u,l,w,A,E,t=s.PriorityQueue.make();for(t.push(i,0);!t.empty();)for(l in w=(c=t.pop()).cost,A=a[u=c.value]||{})A.hasOwnProperty(l)&&(E=w+A[l],(typeof n[l]>"u"||n[l]>E)&&(n[l]=E,t.push(l,E),e[l]=u));if(typeof r<"u"&&typeof n[r]>"u"){var N=["Could not find a path from ",i," to ",r,"."].join("");throw new Error(N)}return e},extract_shortest_path_from_predecessor_list:function(a,i){for(var r=[],e=i;e;)r.push(e),e=a[e];return r.reverse(),r},find_path:function(a,i,r){var e=s.single_source_shortest_paths(a,i,r);return s.extract_shortest_path_from_predecessor_list(e,r)},PriorityQueue:{make:function(a){var e,i=s.PriorityQueue,r={};for(e in a=a||{},i)i.hasOwnProperty(e)&&(r[e]=i[e]);return r.queue=[],r.sorter=a.sorter||i.default_sorter,r},default_sorter:function(a,i){return a.cost-i.cost},push:function(a,i){this.queue.push({value:a,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};T.exports=s},3174:T=>{"use strict";T.exports=function(a){for(var i=[],r=a.length,e=0;e<r;e++){var n=a.charCodeAt(e);if(n>=55296&&n<=56319&&r>e+1){var t=a.charCodeAt(e+1);t>=56320&&t<=57343&&(n=1024*(n-55296)+t-56320+65536,e+=1)}n<128?i.push(n):n<2048?(i.push(n>>6|192),i.push(63&n|128)):n<55296||n>=57344&&n<65536?(i.push(n>>12|224),i.push(n>>6&63|128),i.push(63&n|128)):n>=65536&&n<=1114111?(i.push(n>>18|240),i.push(n>>12&63|128),i.push(n>>6&63|128),i.push(63&n|128)):i.push(239,191,189)}return new Uint8Array(i).buffer}},5933:(T,s,a)=>{const r=a(2836),e=a(9460),n=a(4649),t=a(6511);function c(u,l,w,A,I){const E=[].slice.call(arguments,1),y=E.length,M="function"==typeof E[y-1];if(!M&&!r())throw new Error("Callback required as last argument");if(!M){if(y<1)throw new Error("Too few arguments provided");return 1===y?(w=l,l=A=void 0):2===y&&!l.getContext&&(A=w,w=l,l=void 0),new Promise(function(N,U){try{const S=e.create(w,A);N(u(S,l,A))}catch(S){U(S)}})}if(y<2)throw new Error("Too few arguments provided");2===y?(I=w,w=l,l=A=void 0):3===y&&(l.getContext&&typeof I>"u"?(I=A,A=void 0):(I=A,A=w,w=l,l=void 0));try{const N=e.create(w,A);I(null,u(N,l,A))}catch(N){I(N)}}s.mo=c.bind(null,n.render),s.dY=c.bind(null,n.renderToDataURL),s.toString=c.bind(null,function(u,l,w){return t.render(u,w)})},2836:T=>{T.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(T,s,a)=>{const i=a(9089).getSymbolSize;s.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,t=i(e),c=145===t?26:2*Math.ceil((t-13)/(2*n-2)),u=[t-7];for(let l=1;l<n-1;l++)u[l]=u[l-1]-c;return u.push(6),u.reverse()},s.getPositions=function(e){const n=[],t=s.getRowColCoords(e),c=t.length;for(let u=0;u<c;u++)for(let l=0;l<c;l++)0===u&&0===l||0===u&&l===c-1||u===c-1&&0===l||n.push([t[u],t[l]]);return n}},1018:(T,s,a)=>{const i=a(1677),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(n){this.mode=i.ALPHANUMERIC,this.data=n}e.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){let c;for(c=0;c+2<=this.data.length;c+=2){let u=45*r.indexOf(this.data[c]);u+=r.indexOf(this.data[c+1]),t.put(u,11)}this.data.length%2&&t.put(r.indexOf(this.data[c]),6)},T.exports=e},4662:T=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(a){const i=Math.floor(a/8);return 1==(this.buffer[i]>>>7-a%8&1)},put:function(a,i){for(let r=0;r<i;r++)this.putBit(1==(a>>>i-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),a&&(this.buffer[i]|=128>>>this.length%8),this.length++}},T.exports=s},5941:T=>{function s(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}s.prototype.set=function(a,i,r,e){const n=a*this.size+i;this.data[n]=r,e&&(this.reservedBit[n]=!0)},s.prototype.get=function(a,i){return this.data[a*this.size+i]},s.prototype.xor=function(a,i,r){this.data[a*this.size+i]^=r},s.prototype.isReserved=function(a,i){return this.reservedBit[a*this.size+i]},T.exports=s},4969:(T,s,a)=>{const i=a(3174),r=a(1677);function e(n){this.mode=r.BYTE,"string"==typeof n&&(n=i(n)),this.data=new Uint8Array(n)}e.getBitsLength=function(t){return 8*t},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let t=0,c=this.data.length;t<c;t++)n.put(this.data[t],8)},T.exports=e},3677:(T,s,a)=>{const i=a(7424),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(t,c){switch(c){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}},s.getTotalCodewordsCount=function(t,c){switch(c){case i.L:return e[4*(t-1)+0];case i.M:return e[4*(t-1)+1];case i.Q:return e[4*(t-1)+2];case i.H:return e[4*(t-1)+3];default:return}}},7424:(T,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2},s.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},s.from=function(r,e){if(s.isValid(r))return r;try{return function a(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+i)}}(r)}catch{return e}}},6269:(T,s,a)=>{const i=a(9089).getSymbolSize;s.getPositions=function(n){const t=i(n);return[[0,0],[t-7,0],[0,t-7]]}},6254:(T,s,a)=>{const i=a(9089),n=i.getBCHDigit(1335);s.getEncodedBits=function(c,u){const l=c.bit<<3|u;let w=l<<10;for(;i.getBCHDigit(w)-n>=0;)w^=1335<<i.getBCHDigit(w)-n;return 21522^(l<<10|w)}},6686:(T,s)=>{const a=new Uint8Array(512),i=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)a[n]=e,i[e]=n,e<<=1,256&e&&(e^=285);for(let n=255;n<512;n++)a[n]=a[n-255]})(),s.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},s.exp=function(e){return a[e]},s.mul=function(e,n){return 0===e||0===n?0:a[i[e]+i[n]]}},3264:(T,s,a)=>{const i=a(1677),r=a(9089);function e(n){this.mode=i.KANJI,this.data=n}e.getBitsLength=function(t){return 13*t},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let c=r.toSJIS(this.data[t]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),n.put(c,13)}},T.exports=e},3361:(T,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(r,e,n){switch(r){case s.Patterns.PATTERN000:return(e+n)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(e+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return e*n%2+e*n%3==0;case s.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case s.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){const n=e.size;let t=0,c=0,u=0,l=null,w=null;for(let A=0;A<n;A++){c=u=0,l=w=null;for(let I=0;I<n;I++){let E=e.get(A,I);E===l?c++:(c>=5&&(t+=c-5+3),l=E,c=1),E=e.get(I,A),E===w?u++:(u>=5&&(t+=u-5+3),w=E,u=1)}c>=5&&(t+=c-5+3),u>=5&&(t+=u-5+3)}return t},s.getPenaltyN2=function(e){const n=e.size;let t=0;for(let c=0;c<n-1;c++)for(let u=0;u<n-1;u++){const l=e.get(c,u)+e.get(c,u+1)+e.get(c+1,u)+e.get(c+1,u+1);(4===l||0===l)&&t++}return 3*t},s.getPenaltyN3=function(e){const n=e.size;let t=0,c=0,u=0;for(let l=0;l<n;l++){c=u=0;for(let w=0;w<n;w++)c=c<<1&2047|e.get(l,w),w>=10&&(1488===c||93===c)&&t++,u=u<<1&2047|e.get(w,l),w>=10&&(1488===u||93===u)&&t++}return 40*t},s.getPenaltyN4=function(e){let n=0;const t=e.data.length;for(let u=0;u<t;u++)n+=e.data[u];return 10*Math.abs(Math.ceil(100*n/t/5)-10)},s.applyMask=function(e,n){const t=n.size;for(let c=0;c<t;c++)for(let u=0;u<t;u++)n.isReserved(u,c)||n.xor(u,c,i(e,u,c))},s.getBestMask=function(e,n){const t=Object.keys(s.Patterns).length;let c=0,u=1/0;for(let l=0;l<t;l++){n(l),s.applyMask(l,e);const w=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(l,e),w<u&&(u=w,c=l)}return c}},1677:(T,s,a)=>{const i=a(377),r=a(9359);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(t,c){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?t.ccBits[0]:c<27?t.ccBits[1]:t.ccBits[2]},s.getBestModeForData=function(t){return r.testNumeric(t)?s.NUMERIC:r.testAlphanumeric(t)?s.ALPHANUMERIC:r.testKanji(t)?s.KANJI:s.BYTE},s.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},s.isValid=function(t){return t&&t.bit&&t.ccBits},s.from=function(t,c){if(s.isValid(t))return t;try{return function e(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+n)}}(t)}catch{return c}}},6628:(T,s,a)=>{const i=a(1677);function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let t,c,u;for(t=0;t+3<=this.data.length;t+=3)c=this.data.substr(t,3),u=parseInt(c,10),n.put(u,10);const l=this.data.length-t;l>0&&(c=this.data.substr(t),u=parseInt(c,10),n.put(u,3*l+1))},T.exports=r},1744:(T,s,a)=>{const i=a(6686);s.mul=function(e,n){const t=new Uint8Array(e.length+n.length-1);for(let c=0;c<e.length;c++)for(let u=0;u<n.length;u++)t[c+u]^=i.mul(e[c],n[u]);return t},s.mod=function(e,n){let t=new Uint8Array(e);for(;t.length-n.length>=0;){const c=t[0];for(let l=0;l<n.length;l++)t[l]^=i.mul(n[l],c);let u=0;for(;u<t.length&&0===t[u];)u++;t=t.slice(u)}return t},s.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let t=0;t<e;t++)n=s.mul(n,new Uint8Array([1,i.exp(t)]));return n}},9460:(T,s,a)=>{const i=a(9089),r=a(7424),e=a(4662),n=a(5941),t=a(6214),c=a(6269),u=a(3361),l=a(3677),w=a(6289),A=a(1252),I=a(6254),E=a(1677),y=a(2868);function P(R,f,m){const g=R.size,o=I.getEncodedBits(f,m);let d,h;for(d=0;d<15;d++)h=1==(o>>d&1),R.set(d<6?d:d<8?d+1:g-15+d,8,h,!0),R.set(8,d<8?g-d-1:d<9?15-d-1+1:15-d-1,h,!0);R.set(g-8,8,1,!0)}function D(R,f,m,g){let o;if(Array.isArray(R))o=y.fromArray(R);else{if("string"!=typeof R)throw new Error("Invalid data");{let L=f;if(!L){const F=y.rawSplit(R);L=A.getBestVersionForData(F,m)}o=y.fromString(R,L||40)}}const d=A.getBestVersionForData(o,m);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(f){if(f<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else f=d;const h=function B(R,f,m){const g=new e;m.forEach(function(p){g.put(p.mode.bit,4),g.put(p.getLength(),E.getCharCountIndicator(p.mode,R)),p.write(g)});const h=8*(i.getSymbolTotalCodewords(R)-l.getTotalCodewordsCount(R,f));for(g.getLengthInBits()+4<=h&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(0);const C=(h-g.getLengthInBits())/8;for(let p=0;p<C;p++)g.put(p%2?17:236,8);return function v(R,f,m){const g=i.getSymbolTotalCodewords(f),d=g-l.getTotalCodewordsCount(f,m),h=l.getBlocksCount(f,m),p=h-g%h,L=Math.floor(g/h),F=Math.floor(d/h),k=F+1,z=L-F,Q=new w(z);let _=0;const H=new Array(h),Y=new Array(h);let G=0;const x=new Uint8Array(R.buffer);for(let V=0;V<h;V++){const J=V<p?F:k;H[V]=x.slice(_,_+J),Y[V]=Q.encode(H[V]),_+=J,G=Math.max(G,J)}const $=new Uint8Array(g);let O,j,K=0;for(O=0;O<G;O++)for(j=0;j<h;j++)O<H[j].length&&($[K++]=H[j][O]);for(O=0;O<z;O++)for(j=0;j<h;j++)$[K++]=Y[j][O];return $}(g,R,f)}(f,m,o),C=i.getSymbolSize(f),p=new n(C);return function M(R,f){const m=R.size,g=c.getPositions(f);for(let o=0;o<g.length;o++){const d=g[o][0],h=g[o][1];for(let C=-1;C<=7;C++)if(!(d+C<=-1||m<=d+C))for(let p=-1;p<=7;p++)h+p<=-1||m<=h+p||R.set(d+C,h+p,C>=0&&C<=6&&(0===p||6===p)||p>=0&&p<=6&&(0===C||6===C)||C>=2&&C<=4&&p>=2&&p<=4,!0)}}(p,f),function N(R){const f=R.size;for(let m=8;m<f-8;m++){const g=m%2==0;R.set(m,6,g,!0),R.set(6,m,g,!0)}}(p),function U(R,f){const m=t.getPositions(f);for(let g=0;g<m.length;g++){const o=m[g][0],d=m[g][1];for(let h=-2;h<=2;h++)for(let C=-2;C<=2;C++)R.set(o+h,d+C,-2===h||2===h||-2===C||2===C||0===h&&0===C,!0)}}(p,f),P(p,m,0),f>=7&&function S(R,f){const m=R.size,g=A.getEncodedBits(f);let o,d,h;for(let C=0;C<18;C++)o=Math.floor(C/3),d=C%3+m-8-3,h=1==(g>>C&1),R.set(o,d,h,!0),R.set(d,o,h,!0)}(p,f),function b(R,f){const m=R.size;let g=-1,o=m-1,d=7,h=0;for(let C=m-1;C>0;C-=2)for(6===C&&C--;;){for(let p=0;p<2;p++)if(!R.isReserved(o,C-p)){let L=!1;h<f.length&&(L=1==(f[h]>>>d&1)),R.set(o,C-p,L),d--,-1===d&&(h++,d=7)}if(o+=g,o<0||m<=o){o-=g,g=-g;break}}}(p,h),isNaN(g)&&(g=u.getBestMask(p,P.bind(null,p,m))),u.applyMask(g,p),P(p,m,g),{modules:p,version:f,errorCorrectionLevel:m,maskPattern:g,segments:o}}s.create=function(f,m){if(typeof f>"u"||""===f)throw new Error("No input text");let o,d,g=r.M;return typeof m<"u"&&(g=r.from(m.errorCorrectionLevel,r.M),o=A.from(m.version),d=u.from(m.maskPattern),m.toSJISFunc&&i.setToSJISFunction(m.toSJISFunc)),D(f,o,g,d)}},6289:(T,s,a)=>{const i=a(1744);function r(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(n){this.degree=n,this.genPoly=i.generateECPolynomial(this.degree)},r.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(n.length+this.degree);t.set(n);const c=i.mod(t,this.genPoly),u=this.degree-c.length;if(u>0){const l=new Uint8Array(this.degree);return l.set(c,u),l}return c},T.exports=r},9359:(T,s)=>{const a="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";s.KANJI=new RegExp(r,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(e,"g"),s.NUMERIC=new RegExp(a,"g"),s.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+r+"$"),t=new RegExp("^"+a+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(l){return n.test(l)},s.testNumeric=function(l){return t.test(l)},s.testAlphanumeric=function(l){return c.test(l)}},2868:(T,s,a)=>{const i=a(1677),r=a(6628),e=a(1018),n=a(4969),t=a(3264),c=a(9359),u=a(9089),l=a(2624);function w(S){return unescape(encodeURIComponent(S)).length}function A(S,P,b){const B=[];let v;for(;null!==(v=S.exec(b));)B.push({data:v[0],index:v.index,mode:P,length:v[0].length});return B}function I(S){const P=A(c.NUMERIC,i.NUMERIC,S),b=A(c.ALPHANUMERIC,i.ALPHANUMERIC,S);let B,v;return u.isKanjiModeEnabled()?(B=A(c.BYTE,i.BYTE,S),v=A(c.KANJI,i.KANJI,S)):(B=A(c.BYTE_KANJI,i.BYTE,S),v=[]),P.concat(b,B,v).sort(function(R,f){return R.index-f.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function E(S,P){switch(P){case i.NUMERIC:return r.getBitsLength(S);case i.ALPHANUMERIC:return e.getBitsLength(S);case i.KANJI:return t.getBitsLength(S);case i.BYTE:return n.getBitsLength(S)}}function U(S,P){let b;const B=i.getBestModeForData(S);if(b=i.from(P,B),b!==i.BYTE&&b.bit<B.bit)throw new Error('"'+S+'" cannot be encoded with mode '+i.toString(b)+".\n Suggested mode is: "+i.toString(B));switch(b===i.KANJI&&!u.isKanjiModeEnabled()&&(b=i.BYTE),b){case i.NUMERIC:return new r(S);case i.ALPHANUMERIC:return new e(S);case i.KANJI:return new t(S);case i.BYTE:return new n(S)}}s.fromArray=function(P){return P.reduce(function(b,B){return"string"==typeof B?b.push(U(B,null)):B.data&&b.push(U(B.data,B.mode)),b},[])},s.fromString=function(P,b){const v=function M(S){const P=[];for(let b=0;b<S.length;b++){const B=S[b];switch(B.mode){case i.NUMERIC:P.push([B,{data:B.data,mode:i.ALPHANUMERIC,length:B.length},{data:B.data,mode:i.BYTE,length:B.length}]);break;case i.ALPHANUMERIC:P.push([B,{data:B.data,mode:i.BYTE,length:B.length}]);break;case i.KANJI:P.push([B,{data:B.data,mode:i.BYTE,length:w(B.data)}]);break;case i.BYTE:P.push([{data:B.data,mode:i.BYTE,length:w(B.data)}])}}return P}(I(P,u.isKanjiModeEnabled())),D=function N(S,P){const b={},B={start:{}};let v=["start"];for(let D=0;D<S.length;D++){const R=S[D],f=[];for(let m=0;m<R.length;m++){const g=R[m],o=""+D+m;f.push(o),b[o]={node:g,lastCount:0},B[o]={};for(let d=0;d<v.length;d++){const h=v[d];b[h]&&b[h].node.mode===g.mode?(B[h][o]=E(b[h].lastCount+g.length,g.mode)-E(b[h].lastCount,g.mode),b[h].lastCount+=g.length):(b[h]&&(b[h].lastCount=g.length),B[h][o]=E(g.length,g.mode)+4+i.getCharCountIndicator(g.mode,P))}}v=f}for(let D=0;D<v.length;D++)B[v[D]].end=0;return{map:B,table:b}}(v,b),R=l.find_path(D.map,"start","end"),f=[];for(let m=1;m<R.length-1;m++)f.push(D.table[R[m]].node);return s.fromArray(function y(S){return S.reduce(function(P,b){const B=P.length-1>=0?P[P.length-1]:null;return B&&B.mode===b.mode?(P[P.length-1].data+=b.data,P):(P.push(b),P)},[])}(f))},s.rawSplit=function(P){return s.fromArray(I(P,u.isKanjiModeEnabled()))}},9089:(T,s)=>{let a;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},s.getSymbolTotalCodewords=function(e){return i[e]},s.getBCHDigit=function(r){let e=0;for(;0!==r;)e++,r>>>=1;return e},s.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');a=e},s.isKanjiModeEnabled=function(){return typeof a<"u"},s.toSJIS=function(e){return a(e)}},377:(T,s)=>{s.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}},1252:(T,s,a)=>{const i=a(9089),r=a(3677),e=a(7424),n=a(1677),t=a(377),u=i.getBCHDigit(7973);function w(E,y){return n.getCharCountIndicator(E,y)+4}function A(E,y){let M=0;return E.forEach(function(N){const U=w(N.mode,y);M+=U+N.getBitsLength()}),M}s.from=function(y,M){return t.isValid(y)?parseInt(y,10):M},s.getCapacity=function(y,M,N){if(!t.isValid(y))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=n.BYTE);const P=8*(i.getSymbolTotalCodewords(y)-r.getTotalCodewordsCount(y,M));if(N===n.MIXED)return P;const b=P-w(N,y);switch(N){case n.NUMERIC:return Math.floor(b/10*3);case n.ALPHANUMERIC:return Math.floor(b/11*2);case n.KANJI:return Math.floor(b/13);default:return Math.floor(b/8)}},s.getBestVersionForData=function(y,M){let N;const U=e.from(M,e.M);if(Array.isArray(y)){if(y.length>1)return function I(E,y){for(let M=1;M<=40;M++)if(A(E,M)<=s.getCapacity(M,y,n.MIXED))return M}(y,U);if(0===y.length)return 1;N=y[0]}else N=y;return function l(E,y,M){for(let N=1;N<=40;N++)if(y<=s.getCapacity(N,M,E))return N}(N.mode,N.getLength(),U)},s.getEncodedBits=function(y){if(!t.isValid(y)||y<7)throw new Error("Invalid QR Code version");let M=y<<12;for(;i.getBCHDigit(M)-u>=0;)M^=7973<<i.getBCHDigit(M)-u;return y<<12|M}},4649:(T,s,a)=>{const i=a(7077);s.render=function(t,c,u){let l=u,w=c;typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),c||(w=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),l=i.getOptions(l);const A=i.getImageWidth(t.modules.size,l),I=w.getContext("2d"),E=I.createImageData(A,A);return i.qrToImageData(E.data,t,l),function r(n,t,c){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=c,t.width=c,t.style.height=c+"px",t.style.width=c+"px"}(I,w,A),I.putImageData(E,0,0),w},s.renderToDataURL=function(t,c,u){let l=u;return typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),l||(l={}),s.render(t,c,l).toDataURL(l.type||"image/png",(l.rendererOpts||{}).quality)}},6511:(T,s,a)=>{const i=a(7077);function r(t,c){const u=t.a/255,l=c+'="'+t.hex+'"';return u<1?l+" "+c+'-opacity="'+u.toFixed(2).slice(1)+'"':l}function e(t,c,u){let l=t+c;return typeof u<"u"&&(l+=" "+u),l}s.render=function(c,u,l){const w=i.getOptions(u),A=c.modules.size,I=c.modules.data,E=A+2*w.margin,y=w.color.light.a?"<path "+r(w.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",M="<path "+r(w.color.dark,"stroke")+' d="'+function n(t,c,u){let l="",w=0,A=!1,I=0;for(let E=0;E<t.length;E++){const y=Math.floor(E%c),M=Math.floor(E/c);!y&&!A&&(A=!0),t[E]?(I++,E>0&&y>0&&t[E-1]||(l+=A?e("M",y+u,.5+M+u):e("m",w,0),w=0,A=!1),y+1<c&&t[E+1]||(l+=e("h",I),I=0)):w++}return l}(I,A,w.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(w.width?'width="'+w.width+'" height="'+w.width+'" ':"")+'viewBox="0 0 '+E+" "+E+'" shape-rendering="crispEdges">'+y+M+"</svg>\n";return"function"==typeof l&&l(null,S),S}},7077:(T,s)=>{function a(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)throw new Error("Color should be defined as hex string");let r=i.slice().replace("#","").split("");if(r.length<3||5===r.length||r.length>8)throw new Error("Invalid hex color: "+i);(3===r.length||4===r.length)&&(r=Array.prototype.concat.apply([],r.map(function(n){return[n,n]}))),6===r.length&&r.push("F","F");const e=parseInt(r.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+r.slice(0,6).join("")}}s.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=r.width&&r.width>=21?r.width:void 0;return{width:n,scale:n?4:r.scale||4,margin:typeof r.margin>"u"||null===r.margin||r.margin<0?4:r.margin,color:{dark:a(r.color.dark||"#000000ff"),light:a(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},s.getScale=function(r,e){return e.width&&e.width>=r+2*e.margin?e.width/(r+2*e.margin):e.scale},s.getImageWidth=function(r,e){const n=s.getScale(r,e);return Math.floor((r+2*e.margin)*n)},s.qrToImageData=function(r,e,n){const t=e.modules.size,c=e.modules.data,u=s.getScale(t,n),l=Math.floor((t+2*n.margin)*u),w=n.margin*u,A=[n.color.light,n.color.dark];for(let I=0;I<l;I++)for(let E=0;E<l;E++){let y=4*(I*l+E),M=n.color.light;I>=w&&E>=w&&I<l-w&&E<l-w&&(M=A[c[Math.floor((I-w)/u)*t+Math.floor((E-w)/u)]?1:0]),r[y++]=M.r,r[y++]=M.g,r[y++]=M.b,r[y]=M.a}}}}]);